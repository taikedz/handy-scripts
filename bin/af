#! /bin/bash

[[ $# = 0 ]] && {
	cat <<EOF
Usage

	$0 list # list installed packages
	$0 TERM # search for TERM
	$0 show PACKAGE # show information about PACKAGE
	$0 install PACKAGE [PACKAGES ...] # install packages

Specify a package to search, show, or install"
EOF
	exit
}

if [[ $# -gt 1 ]] && [[ $1 = 'install' ]]; then
	shift
	if [[ $UID != 0 ]]; then
		echo "You are not root"
		exit 1
	else
		apt-get install $@
		exit
	fi
fi

if [[ $# = 1 ]] && [[ $1 = 'i' ]]; then
	dpkg --get-selections | less
	exit
fi

if [[ $# = 2 ]] && [[ $1 = 'show' ]]; then
	apt-cache show $2 | less
	exit
fi

# else search
apt-cache search $1 | less
