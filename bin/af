#! /bin/bash

[[ $# = 0 ]] && {
	cat <<EOF
Usage

	$0 list # list installed packages
	$0 TERM # search for TERM
	$0 show PACKAGE # show information about PACKAGE
	$0 install PACKAGE [PACKAGES ...] # install packages

Specify a package to search, show, or install"
EOF
	exit
}

iopt='^(i|install)$'
if [[ $# -gt 1 ]] && [[ $1 =~ $iopt ]]; then
	shift
	sudo apt-get install $@
	exit
fi

if [[ $# = 1 ]] && [[ $1 = 'list' ]]; then
	dpkg --get-selections | less
	exit
fi

sopt='^(s|show)$'
if [[ $# -gt 1 ]] && [[ $1 = $sopt ]]; then
	shift
	apt-cache show $@ | less
	exit
fi

# else search
apt-cache search $@ | less
